<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debt Payoff Calculator</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- jsPDF and jsPDF-AutoTable for PDF export -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>Debt Payoff Calculator</h1>

        <div class="section">
            <h2>Settings</h2>
            <label for="currencySelector">Select Currency:</label>
            <select id="currencySelector">
                <option value="$">USD ($)</option>
                <option value="€">EUR (€)</option>
                <option value="£">GBP (£)</option>
                <option value="¥">JPY (¥)</option>
                <option value="C$">CAD (C$)</option>
                <option value="A$">AUD (A$)</option>
                <option value="₹">INR (₹)</option>
                <!-- Add more currencies as needed -->
            </select>
        </div>

        <div class="section">
            <h2>Payoff Strategy</h2>
            <label for="payoffStrategy">Choose your debt payoff strategy:</label>
            <select id="payoffStrategy">
                <option value="snowball">Lowest Balance First (Debt Snowball)</option>
                <option value="avalanche">Highest APR First (Debt Avalanche)</option>
            </select>
        </div>

        <div class="section">
            <h2>Initial Setup</h2>
            <label for="numCreditCards">Number of Credit Cards:</label>
            <input type="number" id="numCreditCards" value="1" min="0">
            <button id="generateCardInputs">Set Cards</button>
        </div>

        <div id="debtInputsContainer">
            <!-- Credit Card inputs will be generated here -->
        </div>

        <div class="section" id="unsecuredDebtSection">
            <h2>Unsecured Debts (e.g., Personal Loans)</h2>
            <div id="unsecuredDebtList">
                <!-- Unsecured debt inputs will be added here -->
            </div>
            <button id="addUnsecuredDebt">Add Unsecured Debt</button>
        </div>

        <div class="section">
            <h2>Extra Payments & Bonuses</h2>
            <label for="extraMonthlyPayment">Extra Monthly Payment (<span class="currency-symbol">$</span>):</label>
            <input type="number" id="extraMonthlyPayment" value="0" min="0" step="0.01">

            <h3>Annual Bonus</h3>
            <label for="annualBonusAmount">Bonus Amount (<span class="currency-symbol">$</span>):</label>
            <input type="number" id="annualBonusAmount" value="0" min="0" step="0.01">
            <label for="annualBonusMonth">Bonus Month (1-12):</label>
            <select id="annualBonusMonth">
                <option value="0">None</option>
                <option value="1">January</option>
                <option value="2">February</option>
                <option value="3">March</option>
                <option value="4">April</option>
                <option value="5">May</option>
                <option value="6">June</option>
                <option value="7">July</option>
                <option value="8">August</option>
                <option value="9">September</option>
                <option value="10">October</option>
                <option value="11">November</option>
                <option value="12">December</option>
            </select>

            <h3>One-Off Lump Sums</h3>
            <div id="lumpSumsContainer">
                <!-- Lump sum inputs will be added here -->
            </div>
            <button id="addLumpSum">Add Lump Sum</button>
        </div>

        <div class="section">
            <button id="calculateButton">Calculate Payoff</button>
            <button id="saveButton">Save Inputs</button>
            <button id="loadButton">Load Inputs</button>
            <button id="resetButton">Reset All</button>
        </div>

        <div class="section" id="resultsSection" style="display:none;">
            <h2>Results</h2>
            <p id="summaryText"></p>
            <div class="chart-container">
                <canvas id="debtChart"></canvas>
            </div>
            <h3>Payment Schedule</h3>
            <table id="paymentSchedule">
                <thead>
                    <tr>
                        <th>Month</th>
                        <th>Year</th>
                        <th>Debt Name</th>
                        <th>Payment</th>
                        <th>Interest Paid</th>
                        <th>Principal Paid</th>
                        <th>Remaining Balance</th>
                        <th>Total Debt Rem.</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Schedule will be populated here -->
                </tbody>
            </table>
            <div class="export-buttons" style="margin-top: 20px; text-align: center;">
                <button id="exportPdfButton">Export Results as PDF</button>
                <button id="exportCsvButton">Export Results as CSV</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>